"use strict";(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[767],{3119:function(e,t,n){n.r(t),n.d(t,{default:function(){return S},pageConfig:function(){return N}});var i=n(6042),r=n(9396),o=n(9607),a=n(253),l=n(5027),c=n(4820),u=n(5893),s=n(7294),m=n(9017),p=n(8637),d=n(6248),f=n(9035),Z=n(2054),g=n(3295),h=n(6224),v=n(2023),C=n(3594),k=n(2589),y=n(357);function S(){var e="FITNESS_MARK_DS",t=(0,a.Z)((0,s.useState)(!1),2),n=t[0],m=t[1],S=(0,a.Z)((0,s.useState)([]),2),N=S[0],_=S[1],B=(0,a.Z)(p.Z.useForm(),1)[0],I=(0,a.Z)(d.Z.useModal(),2),L=I[0],X=I[1];return(0,s.useEffect)(function(){B.resetFields()},[n]),(0,s.useEffect)(function(){var t=localStorage.getItem(e);if(null===t){var n=[{title:"\u793A\u4F8B\u4FEF\u5367\u6491",groupCount:3,groupList:[,,,].fill(0),groupTime:10}];localStorage.setItem(e,JSON.stringify(n)),_(n)}else try{_(JSON.parse(t))}catch(i){localStorage.setItem(e,JSON.stringify([]))}},[]),(0,c.BX)("div",{className:"app",children:[(0,c.tZ)("div",{className:"app-header",children:(0,c.tZ)(v.Z,{style:{color:"#fff",fontSize:25},onClick:function(){m(!0)}})}),N.map(function(t,n,i){return(0,c.BX)(u.Fragment,{children:[(0,c.BX)("div",{className:"app-item",children:[(0,c.tZ)("div",{className:"app-item-title",children:t.title}),t.groupList.map(function(i,r){return(0,c.BX)("div",{className:"app-item-group",children:[(0,c.BX)("div",{className:"app-item-group-name",children:["\u7B2C ",r+1," \u7EC4"]}),(0,l.Z)(Array(t.groupTime)).map(function(t,o){return(0,c.tZ)("div",{className:"app-item-group-item ".concat(o<i?"app-item-group-item-done":""),onClick:function(){o+1<=i&&0===o?N[n].groupList[r]=o:N[n].groupList[r]=o+1,_((0,l.Z)(N)),localStorage.setItem(e,JSON.stringify(N))},children:o+1})})]})})]}),i.length-1===n?null:(0,c.tZ)("div",{className:"app-dash"})]})}),(0,c.BX)(f.Z,{maskClosable:!1,open:n,title:"\u8BBE\u7F6E",onClose:function(){m(!1)},children:[(0,c.tZ)(p.Z,{initialValues:{ds:N.map(function(e){return{title:e.title,groupCount:e.groupCount,groupListCount:e.groupTime}})},form:B,name:"dynamic_form_nest_item",style:{maxWidth:600},autoComplete:"off",children:(0,c.tZ)(p.Z.List,{name:"ds",children:function(e,t){var n=t.add,a=t.remove;return(0,c.BX)(u.Fragment,{children:[e.map(function(e,t,n){var l=e.key,u=e.name,s=(0,o.Z)(e,["key","name"]);return(0,c.BX)("div",{className:"app-form-item",children:[(0,c.BX)("div",{style:{flexGrow:1},children:[(0,c.tZ)(p.Z.Item,(0,r.Z)((0,i.Z)({},s),{name:[u,"title"],rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,c.tZ)(Z.Z,{placeholder:"\u8FD0\u52A8\u540D\u79F0\uFF0C\u5982\uFF1A\u4FEF\u5367\u6491"})})),(0,c.BX)("div",{className:"app-form-item-both",children:[(0,c.tZ)(p.Z.Item,(0,r.Z)((0,i.Z)({},s),{name:[u,"groupCount"],rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,c.tZ)(g.Z,{placeholder:"\u7EC4\u6570"})})),(0,c.tZ)(p.Z.Item,(0,r.Z)((0,i.Z)({},s),{name:[u,"groupListCount"],rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,c.tZ)(g.Z,{placeholder:"\u6BCF\u7EC4\u6B21\u6570"})}))]})]}),(0,c.tZ)(C.Z,{style:{fontSize:20,marginLeft:10},onClick:function(){return a(u)}})]},l)}),(0,c.tZ)(p.Z.Item,{children:(0,c.tZ)(h.ZP,{type:"dashed",onClick:function(){return n()},block:!0,icon:(0,c.tZ)(k.Z,{}),children:"\u6DFB\u52A0\u8FD0\u52A8"})})]})}})}),(0,c.tZ)(h.ZP,{block:!0,type:"primary",onClick:function(){B.validateFields().then(function(t){L.confirm({title:"\u786E\u8BA4\u4FDD\u5B58\uFF1F",icon:(0,c.tZ)(y.Z,{}),content:"\u4FDD\u5B58\u540E\uFF0C\u5C06\u4F1A\u6E05\u7A7A\u6240\u6709\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var n=t.ds.map(function(e){return{title:e.title,groupCount:e.groupCount,groupList:Array(e.groupCount).fill(0),groupTime:e.groupListCount}});m(!1),_(n),localStorage.setItem(e,JSON.stringify(n))}})})},children:"\u4FDD\u5B58"})]}),X]})}var N=(0,m.Cv)(function(){return{title:"Fitness Mark"}})}}]);